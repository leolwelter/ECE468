;str input  "Please input an integer number: "
;str space  " "
;str eol  "\n"

;LABEL   F
;LINK   
;STOREI 2  $T1
;LE $P1 $T1 label0
;SUBI $P1 1 $T2
;PUSH   
;PUSH $T2  
;JSR F  
;POP   
;POP   $T3
;STOREI $T3  $L1
;SUBI $P1 2 $T4
;PUSH   
;PUSH $T4  
;JSR F  
;POP   
;POP   $T5
;STOREI $T5  $L2
;ADDI $L1 $L2 $T6
;STOREI $T6  $R
;RET   
;JUMP   label1
;LABEL   label0
;STOREI 0  $T7
;NE $P1 $T7 label2
;STOREI 0  $T8
;STOREI $T8  $R
;RET   
;JUMP   label1
;LABEL   label2
;STOREI 1  $T9
;NE $P1 $T9 label3
;STOREI 1  $T10
;STOREI $T10  $R
;RET   
;JUMP   label1
;LABEL   label3
;STOREI 2  $T11
;NE $P1 $T11 label4
;STOREI 1  $T12
;STOREI $T12  $R
;RET   
;JUMP   label1
;LABEL   label1
;LABEL   label4
;RET   

;LABEL   main
;LINK   
;STOREI 0  $T1
;STOREI $T1  $L1
;WRITES input  
;READI   $L2
;LABEL   label6
;PUSH   
;PUSH $L1  
;JSR F  
;POP   
;POP   $T2
;STOREI $T2  $L3
;WRITEI $L1  
;WRITES space  
;WRITEI $L3  
;WRITES eol  
;ADDI $L1 1 $T3
;STOREI $T3  $L1
;STOREI end  $T4
;EQ $L1 $T4 label5
;JUMP   label6
;LABEL   label5
;STOREI 0  $T5
;STOREI $T5  $R
;RET   

str input "Please input an integer number: "
str space " "
str eol "\n"
push  
push r0 
push r1 
push r2 
push r3 
jsr main 
sys halt 
label F 
link 100 
move 2 r1
move r1 r3
move r3 $-4
move $6 r1
move $-4 r2
cmpi r1 r2
jle label0 
move $6 r1
move 1 r2
move r1 r3
subi r2 r3
move r3 $-5
push  
move $-5 r1
push r1 
push r0 
push r1 
push r2 
push r3 
jsr F 
pop r3 
pop r2 
pop r1 
pop r0 
pop  
pop r3 
move r3 $-6
move $-6 r1
move r1 r3
move r3 $-1
move $6 r1
move 2 r2
move r1 r3
subi r2 r3
move r3 $-7
push  
move $-7 r1
push r1 
push r0 
push r1 
push r2 
push r3 
jsr F 
pop r3 
pop r2 
pop r1 
pop r0 
pop  
pop r3 
move r3 $-8
move $-8 r1
move r1 r3
move r3 $-2
move $-1 r1
move $-2 r2
move r1 r3
addi r2 r3
move r3 $-9
move $-9 r1
move r1 r3
move r3 $7
unlnk  
ret  
jmp label1 
label label0 
move 0 r1
move r1 r3
move r3 $-10
move $6 r1
move $-10 r2
cmpi r1 r2
jne label2 
move 0 r1
move r1 r3
move r3 $-11
move $-11 r1
move r1 r3
move r3 $7
unlnk  
ret  
jmp label1 
label label2 
move 1 r1
move r1 r3
move r3 $-12
move $6 r1
move $-12 r2
cmpi r1 r2
jne label3 
move 1 r1
move r1 r3
move r3 $-13
move $-13 r1
move r1 r3
move r3 $7
unlnk  
ret  
jmp label1 
label label3 
move 2 r1
move r1 r3
move r3 $-14
move $6 r1
move $-14 r2
cmpi r1 r2
jne label4 
move 1 r1
move r1 r3
move r3 $-15
move $-15 r1
move r1 r3
move r3 $7
unlnk  
ret  
jmp label1 
label label1 
label label4 
unlnk  
ret  
label main 
link 100 
move 0 r1
move r1 r3
move r3 $-5
move $-5 r1
move r1 r3
move r3 $-1
sys writes input
sys readi r3
move r3 $-2
label label6 
push  
move $-1 r1
push r1 
push r0 
push r1 
push r2 
push r3 
jsr F 
pop r3 
pop r2 
pop r1 
pop r0 
pop  
pop r3 
move r3 $-6
move $-6 r1
move r1 r3
move r3 $-3
move $-1 r1
sys writei r1
sys writes space
move $-3 r1
sys writei r1
sys writes eol
move $-1 r1
move 1 r2
move r1 r3
addi r2 r3
move r3 $-7
move $-7 r1
move r1 r3
move r3 $-1
move end r1
move r1 r3
move r3 $-8
move $-1 r1
move $-8 r2
cmpi r1 r2
jeq label5 
jmp label6 
label label5 
move 0 r1
move r1 r3
move r3 $-9
move $-9 r1
move r1 r3
move r3 $6
unlnk  
ret  
end  
