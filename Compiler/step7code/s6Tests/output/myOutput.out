;str input  "Please input an integer number: "
;str space  " "
;str eol  "\n"

;LABEL   F
;LINK   
;STOREI 2  $T1
;LE $P1 $T1 label0
;SUBI $P1 1 $T2
;PUSH   
;PUSH $T2  
;JSR F  
;POP   
;POP $T3  
;STOREI $T3  $L1
;SUBI $P1 2 $T4
;PUSH   
;PUSH $T4  
;JSR F  
;POP   
;POP $T5  
;STOREI $T5  $L2
;ADDI $L1 $L2 $T6
;STOREI $T6  $R
;RET   
;JUMP   label1
;LABEL   label0
;STOREI 0  $T7
;NE $P1 $T7 label2
;STOREI 0  $T8
;STOREI $T8  $R
;RET   
;JUMP   label1
;LABEL   label2
;STOREI 1  $T9
;NE $P1 $T9 label3
;STOREI 1  $T10
;STOREI $T10  $R
;RET   
;JUMP   label1
;LABEL   label3
;STOREI 2  $T11
;NE $P1 $T11 label4
;STOREI 1  $T12
;STOREI $T12  $R
;RET   
;JUMP   label1
;LABEL   label1
;LABEL   label4
;RET   

;LABEL   main
;LINK   
;STOREI 0  $T1
;STOREI $T1  $L1
;WRITES input  
;READI $L2  
;LABEL   label1
;PUSH   
;PUSH $L1  
;JSR F  
;POP   
;POP $T2  
;STOREI $T2  $L3
;WRITEI $L1  
;WRITES space  
;WRITEI $L3  
;WRITES eol  
;ADDI $L1 1 $T3
;STOREI $T3  $L1
;EQ $L1 $L2 label0
;JUMP   label1
;LABEL   label0
;STOREI 0  $T5
;STOREI $T5  $R
;RET   

str input "Please input an integer number: "
str space " "
str eol "\n"
push  
push r0 
push r1 
push r2 
push r3 
jsr main 
sys halt 
label F 
link 4 
move 2 r0
cmpi $6 r0
jle label0 
move $6 r1
subi 1 r1
push  
push r1 
push r0 
push r1 
push r2 
push r3 
jsr F 
pop r3 
pop r2 
pop r1 
pop r0 
pop  
pop r2 
move r2 $-1
move $6 r3
subi 2 r3
push  
push r3 
push r0 
push r1 
push r2 
push r3 
jsr F 
pop r3 
pop r2 
pop r1 
pop r0 
pop  
pop r4 
move r4 $-2
move $-1 r5
addi $-2 r5
move r5 $7
unlnk  
ret  
jmp label1 
label label0 
move 0 r6
cmpi $6 r6
jne label2 
move 0 r7
move r7 $7
unlnk  
ret  
jmp label1 
label label2 
move 1 r8
cmpi $6 r8
jne label3 
move 1 r9
move r9 $7
unlnk  
ret  
jmp label1 
label label3 
move 2 r10
cmpi $6 r10
jne label4 
move 1 r11
move r11 $7
unlnk  
ret  
jmp label1 
label label1 
label label4 
unlnk  
ret  
label main 
link 4 
move 0 r0
move r0 $-1
sys writes input
sys readi $-2
label label1 
push  
push $-1 
push r0 
push r1 
push r2 
push r3 
jsr F 
pop r3 
pop r2 
pop r1 
pop r0 
pop  
pop r1 
move r1 $-3
sys writei $-1
sys writes space
sys writei $-3
sys writes eol
move $-1 r2
addi 1 r2
move r2 $-1
move $-2 r6
cmpi $-1 r6
jeq label0 
jmp label1 
label label0 
move 0 r4
move r4 $6
unlnk  
ret  
end  
